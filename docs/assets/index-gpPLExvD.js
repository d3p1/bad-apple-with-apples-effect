var b=o=>{throw TypeError(o)};var y=(o,e,i)=>e.has(o)||b("Cannot "+i);var t=(o,e,i)=>(y(o,e,"read from private field"),i?i.call(o):e.get(o)),u=(o,e,i)=>e.has(o)?b("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(o):e.set(o,i),f=(o,e,i,c)=>(y(o,e,"write to private field"),c?c.call(o,i):e.set(o,i),i),a=(o,e,i)=>(y(o,e,"access private method"),i);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))c(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const g of n.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&c(g)}).observe(document,{childList:!0,subtree:!0});function i(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerPolicy&&(n.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?n.credentials="include":s.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function c(s){if(s.ep)return;s.ep=!0;const n=i(s);fetch(s.href,n)}})();const P="/bad-apple-with-apples-effect/assets/bad-apple-DcD1J2Su.mp4";var l,r,d,p,m,h,w,x,A,D,v,L,O,I;class S{constructor(e,i){u(this,h);u(this,l);u(this,r);u(this,d);u(this,p);u(this,m);a(this,h,O).call(this),a(this,h,I).call(this,e,i),a(this,h,L).call(this)}}l=new WeakMap,r=new WeakMap,d=new WeakMap,p=new WeakMap,m=new WeakMap,h=new WeakSet,w=function(){a(this,h,v).call(this),a(this,h,A).call(this),a(this,h,x).call(this),requestAnimationFrame(a(this,h,w).bind(this))},x=function(){const i=t(this,d).getImageData(0,0,t(this,r).width,t(this,r).height).data;a(this,h,v).call(this);for(let c=0;c<t(this,r).height;c+=t(this,m))for(let s=0;s<t(this,r).width;s+=t(this,p)){const n=(c*t(this,r).width+s)*4;i[n]<200&&a(this,h,D).call(this,s,c)}},A=function(){t(this,d).drawImage(t(this,l),0,0,t(this,r).width,t(this,r).height)},D=function(e,i){t(this,d).font=`${t(this,p)}px`,t(this,d).fillText("🍎",e,i)},v=function(){t(this,d).fillStyle="#fff",t(this,d).textAlign="center",t(this,d).textBaseline="middle",t(this,d).fillRect(0,0,t(this,r).width,t(this,r).height)},L=function(){f(this,l,document.createElement("video")),t(this,l).src=P,t(this,l).muted=!0,t(this,l).addEventListener("loadeddata",()=>{t(this,r).width=t(this,l).videoWidth,t(this,r).height=t(this,l).videoHeight}),t(this,l).play().then(()=>a(this,h,w).call(this))},O=function(){f(this,r,document.createElement("canvas")),f(this,d,t(this,r).getContext("2d",{willReadFrequently:!0})),t(this,r).style.border="2px solid #000",document.body.appendChild(t(this,r))},I=function(e,i){f(this,p,Math.floor(t(this,r).width/e)),f(this,m,Math.floor(t(this,r).height/i))};new S(15,15);
//# sourceMappingURL=index-gpPLExvD.js.map
